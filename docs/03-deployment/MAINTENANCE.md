# План обслуживания и обновления сайта "Halcyon"

Этот документ описывает процедуры по обновлению контента и обслуживанию сервера после первоначальной настройки.

## 1. Как обновить контент сайта

Обновление сайта происходит путем внесения изменений в код на вашем локальном компьютере, отправки их в репозиторий GitHub, а затем развертывания этих изменений на сервере.

**Пошаговая инструкция:**

1.  **Внесите изменения локально:** Отредактируйте нужные файлы (например, добавьте новую статью в `src/content/blog/` или измените текст на странице).

2.  **Отправьте изменения в GitHub:** Закоммитьте и отправьте изменения в `main` ветку вашего репозитория.

3.  **Подключитесь к серверу:** Используйте EC2 Instance Connect или SSH для входа в терминал вашего сервера.

4.  **Обновите проект на сервере:** Выполните следующие команды по очереди:

    ```bash
    # Перейдите в папку проекта
    cd ~/my-first-project

    # Скачайте последние изменения с GitHub
    git pull origin main

    # Установите зависимости (на случай, если они изменились)
    npm ci

    # Соберите проект с новыми изменениями
    npm run build
    ```

После выполнения `npm run build` Nginx автоматически начнет отдавать новую версию вашего сайта.

## 2. Решение распространенных проблем

### Ошибка "403 Forbidden" или "404 Not Found" после развертывания или обновления

Эта ошибка чаще всего возникает из-за неверных прав доступа к файлам проекта. Веб-сервер Nginx (работающий от пользователя `www-data`) не может прочитать файлы в домашней директории пользователя `ubuntu`.

**Решение:**

Выполните следующие команды на сервере, чтобы исправить права доступа. Это безопасно и может потребоваться после каждого `git pull`.

```bash
# 1. Разрешить доступ к домашней директории
sudo chmod 755 /home/ubuntu

# 2. Установить права на чтение и выполнение для папки проекта
sudo chmod -R 755 /home/ubuntu/my-first-project

# 3. Перезапустить Nginx
sudo systemctl reload nginx
```
