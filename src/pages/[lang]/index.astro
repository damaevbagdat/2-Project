---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/Hero.astro';
import DivorceSection from '../../components/DivorceSection.astro';
import PretensionSection from '../../components/PretensionSection.astro';
import BusinessSection from '../../components/BusinessSection.astro';
import AdvantagesSection from '../../components/AdvantagesSection.astro';
import ContactSection from '../../components/ContactSection.astro';

const locale = Astro.params.lang;

export async function getStaticPaths() {
  const locales = ['ru', 'kz', 'en'];
  return locales.map(l => ({ params: { lang: l } }));
}

// Define localized titles and descriptions
const localizedContent = {
  ru: {
    title: 'Halcyon | Юридические услуги премиум-класса в Казахстане',
    description: 'Halcyon - юридическая помощь премиум-класса в Казахстане. Расторжение брака, претензионно-исковая работа, юрист для бизнеса. Полная конфиденциальность и профессиональный подход.'
  },
  en: {
    title: 'Halcyon | Premium Legal Services in Kazakhstan',
    description: 'Halcyon - premium legal services in Kazakhstan. Divorce services, pre-trial and litigation work, business legal support. Complete confidentiality and professional approach.'
  },
  kz: {
    title: 'Halcyon | Қазақстанда премиум-класс заңгерлік қызметтер',
    description: 'Halcyon - Қазақстанда премиум-класс заңгерлік көмек. Некені бұзу, сотқа дейінгі және сот жұмысы, бизнес үшін заңгер. Толық құпиялылық және кәсіби көзқарас.'
  }
};

const content = localizedContent[locale] || localizedContent.ru;
---

<BaseLayout lang={locale} title={content.title} description={content.description}>
  <Hero lang={locale} />
  <DivorceSection lang={locale} />
  <PretensionSection lang={locale} />
  <BusinessSection lang={locale} />
  <AdvantagesSection lang={locale} />
  <ContactSection lang={locale} />
</BaseLayout>

<script>
  import { initAccordion } from '../../scripts/accordion';
  import { initScrollEffects } from '../../scripts/scroll-effects';
  import { initSmoothScroll } from '../../scripts/smooth-scroll';

  document.addEventListener('DOMContentLoaded', () => {
    initAccordion();
    initScrollEffects();
    initSmoothScroll();
  });
</script>
